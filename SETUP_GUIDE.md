[{"text": "# Binance Trading Dashboard - Setup Guide\n\nThis guide will walk you through setting up the Binance Trading Dashboard from scratch.\n\n## Prerequisites\n\nBefore starting, make sure you have:\n\n- ‚úÖ Node.js 18 or higher installed\n- ‚úÖ npm or yarn package manager\n- ‚úÖ PostgreSQL database (local or cloud)\n- ‚úÖ Google account for OAuth setup\n- ‚úÖ Binance account with API access\n\n## Step-by-Step Setup\n\n### Step 1: Install Dependencies\n\n```bash\ncd binance-trading-dashboard\nnpm install\n```\n\nThis will install all required packages including:\n- Next.js 14\n- Prisma & PostgreSQL client\n- NextAuth.js for authentication\n- Recharts for data visualization\n- And more...\n\n### Step 2: Set Up PostgreSQL Database\n\n#### Option A: Local PostgreSQL\n\n1. Install PostgreSQL on your machine\n2. Create a new database:\n   ```sql\n   CREATE DATABASE binance_dashboard;\n   ```\n3. Note your connection string:\n   ```\n   postgresql://username:password@localhost:5432/binance_dashboard\n   ```\n\n#### Option B: Cloud PostgreSQL (Recommended)\n\nUse a managed database service:\n- **[Railway](https://railway.app/)** - Free tier available\n- **[Supabase](https://supabase.com/)** - Generous free tier\n- **[Render](https://render.com/)** - Free PostgreSQL\n\nAfter creating, copy the connection string.\n\n### Step 3: Configure Environment Variables\n\n1. Copy the example environment file:\n   ```bash\n   cp .env.example .env\n   ```\n\n2. Generate secure keys:\n   ```bash\n   # Generate NEXTAUTH_SECRET\n   openssl rand -base64 32\n   \n   # Generate ENCRYPTION_KEY (64 characters)\n   openssl rand -hex 32\n   ```\n\n3. Edit `.env` file:\n\n```env\n# Database - Replace with your PostgreSQL connection string\nDATABASE_URL=\"postgresql://user:password@host:5432/binance_dashboard\"\n\n# NextAuth\nNEXTAUTH_URL=\"http://localhost:3000\"\nNEXTAUTH_SECRET=\"paste-the-generated-secret-here\"\n\n# Google OAuth (we'll get these in Step 4)\nGOOGLE_CLIENT_ID=\"\"\nGOOGLE_CLIENT_SECRET=\"\"\n\n# Encryption Key for API Keys\nENCRYPTION_KEY=\"paste-the-64-character-hex-key-here\"\n\n# Binance API\nBINANCE_API_URL=\"https://fapi.binance.com\"\n```\n\n### Step 4: Set Up Google OAuth\n\n1. Go to [Google Cloud Console](https://console.cloud.google.com/)\n\n2. **Create a New Project:**\n   - Click \"Select a project\" ‚Üí \"New Project\"\n   - Name it \"Binance Trading Dashboard\"\n   - Click \"Create\"\n\n3. **Enable Google+ API:**\n   - Go to \"APIs & Services\" ‚Üí \"Enable APIs and Services\"\n   - Search for \"Google+ API\"\n   - Click \"Enable\"\n\n4. **Create OAuth Credentials:**\n   - Go to \"APIs & Services\" ‚Üí \"Credentials\"\n   - Click \"Create Credentials\" ‚Üí \"OAuth 2.0 Client ID\"\n   - Configure consent screen if prompted:\n     * User Type: External\n     * App name: Binance Trading Dashboard\n     * User support email: your email\n     * Developer contact: your email\n   - Application type: \"Web application\"\n   - Name: \"Binance Dashboard\"\n   - Authorized redirect URIs:\n     ```\n     http://localhost:3000/api/auth/callback/google\n     ```\n   - Click \"Create\"\n\n5. **Copy Credentials:**\n   - Copy the Client ID and Client Secret\n   - Paste them into your `.env` file\n\n### Step 5: Set Up Database Schema\n\n```bash\n# Push Prisma schema to database\nnpm run db:push\n\n# Or use migrations for production\nnpx prisma migrate dev --name init\n```\n\nThis creates all necessary tables:\n- `users` - User accounts\n- `api_configs` - Encrypted Binance API keys\n- `positions` - Trading positions\n- `trades` - Individual trades\n- `account_snapshots` - Daily equity snapshots\n\n### Step 6: Verify Setup\n\nCheck that everything is configured:\n\n```bash\n# Generate Prisma Client\nnpx prisma generate\n\n# View database (optional)\nnpm run db:studio\n```\n\n### Step 7: Start Development Server\n\n```bash\nnpm run dev\n```\n\nOpen [http://localhost:3000](http://localhost:3000) in your browser.\n\n## Post-Installation Setup\n\n### 1. Sign In\n\n- Click \"Sign in with Google\"\n- Authorize the application\n- You'll be redirected to the dashboard\n\n### 2. Configure Binance API Keys\n\nTo fetch your trading data, you need to add Binance API keys:\n\n#### Get Binance API Keys:\n\n1. Log in to [Binance](https://www.binance.com/)\n2. Go to Account ‚Üí API Management\n3. Create a new API key:\n   - Label: \"Trading Dashboard (Read-Only)\"\n   - **Enable Reading** ‚úÖ\n   - **Disable Trading** ‚ùå (for security)\n   - **Disable Withdrawals** ‚ùå\n4. Complete 2FA verification\n5. Copy your API Key and Secret Key\n\n#### Add Keys to Dashboard:\n\n*Note: The API configuration page is a future enhancement. For now, you can add them directly to the database or create an API endpoint.*\n\nFor testing, you can manually insert API config:\n\n```sql\n-- Replace values with your actual data\nINSERT INTO api_configs (id, user_id, api_key_encrypted, api_secret_encrypted, is_active)\nVALUES (\n  gen_random_uuid(),\n  'your-user-id-from-users-table',\n  'encrypted-api-key',\n  'encrypted-api-secret',\n  true\n);\n```\n\n## Testing the Dashboard\n\n### View Account Overview\n\n- Navigate to `http://localhost:3000`\n- You should see:\n  - Account metrics (will be zero initially)\n  - Asset curve chart\n  - Quick action cards\n\n### View Positions\n\n- Navigate to `http://localhost:3000/positions`\n- Filter by status (All/Open/Closed)\n- Search by symbol\n\n### API Endpoints\n\nTest API endpoints directly:\n\n```bash\n# Get account metrics (requires authentication cookie)\ncurl http://localhost:3000/api/account/metrics\n\n# Get account snapshots\ncurl http://localhost:3000/api/account/snapshots?range=all\n\n# Get positions\ncurl http://localhost:3000/api/positions?status=all\n```\n\n## Common Issues & Solutions\n\n### Issue: \"Database connection failed\"\n\n**Solution:**\n- Verify `DATABASE_URL` is correct\n- Check PostgreSQL is running\n- Test connection with: `npx prisma db push`\n\n### Issue: \"Google OAuth error\"\n\n**Solution:**\n- Verify redirect URI exactly matches: `http://localhost:3000/api/auth/callback/google`\n- Check Google+ API is enabled\n- Ensure OAuth consent screen is configured\n\n### Issue: \"Module not found\" errors\n\n**Solution:**\n```bash\nrm -rf node_modules package-lock.json\nnpm install\n```\n\n### Issue: \"Prisma Client not generated\"\n\n**Solution:**\n```bash\nnpx prisma generate\n```\n\n### Issue: TypeScript errors\n\n**Solution:**\n- These are expected before `npm install` completes\n- Run: `npm install` to install all dependencies\n- Restart your IDE/editor\n\n## Production Deployment\n\n### Deploy to Vercel\n\n1. **Install Vercel CLI:**\n   ```bash\n   npm i -g vercel\n   ```\n\n2. **Deploy:**\n   ```bash\n   vercel\n   ```\n\n3. **Add Environment Variables:**\n   - Go to Vercel Dashboard ‚Üí Your Project ‚Üí Settings ‚Üí Environment Variables\n   - Add all variables from `.env`\n   - Update `NEXTAUTH_URL` to your production domain\n   - Update Google OAuth redirect URI to include production URL\n\n4. **Redeploy:**\n   ```bash\n   vercel --prod\n   ```\n\n### Database for Production\n\nUse a managed PostgreSQL service:\n- Railway, Render, or Supabase (as mentioned earlier)\n- Update `DATABASE_URL` in Vercel environment variables\n- Run migrations:\n  ```bash\n  DATABASE_URL=\"your-prod-db-url\" npx prisma migrate deploy\n  ```\n\n## Security Checklist\n\n- ‚úÖ Use read-only Binance API keys\n- ‚úÖ Never commit `.env` file to git\n- ‚úÖ Use strong `NEXTAUTH_SECRET` and `ENCRYPTION_KEY`\n- ‚úÖ Enable HTTPS in production\n- ‚úÖ Regularly rotate API keys\n- ‚úÖ Monitor API usage and rate limits\n- ‚úÖ Keep dependencies updated\n\n## Next Steps\n\n1. **Implement Data Sync:**\n   - Create cron job or background task to sync Binance data\n   - Use Vercel Cron Jobs or separate worker service\n\n2. **Add API Configuration Page:**\n   - Create `/settings/api` page\n   - Allow users to add/update/delete API keys via UI\n\n3. **Implement Position Details:**\n   - Create `/positions/[id]` page\n   - Show detailed trade timeline\n\n4. **Add More Features:**\n   - Export data to CSV/PDF\n   - Advanced filtering and search\n   - Risk metrics (Sharpe ratio, etc.)\n   - Real-time updates via WebSocket\n\n## Need Help?\n\n- üìñ Check the [README.md](./README.md) for more details\n- üêõ Found a bug? Create an issue\n- üí° Have suggestions? Submit a feature request\n- üìö Review the [Binance API Documentation](https://binance-docs.github.io/apidocs/futures/en/)\n- üîê Review the [NextAuth.js Documentation](https://next-auth.js.org/)\n\n## Congratulations! üéâ\n\nYour Binance Trading Dashboard is now set up and ready to use! Start by signing in with Google and configuring your Binance API keys to begin tracking your trading performance.\n\nHappy trading! üìà\n", "type": "text"}]